"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4109],{475:function(e,t,r){r.d(t,{u:function(){return a}});var i=r(62512);async function a(){var e;let t=await (0,i.Z)("https://solanacompass.com/api/fees",{cacheFreshTime:3e5}),{avg:r}=null!==(e=null==t?void 0:t[15])&&void 0!==e?e:{};if(r)return{units:4e5,microLamports:Math.min(Math.ceil(1e6*r/4e5),25e3)}}},54531:function(e,t,r){r.d(t,{Z:function(){return s}});var i=r(85893);r(67294);var a=r(66180),n=r(70745),l=r(51800);function s(e){let{token1:t,token2:r,size:s,className:o,CoinAvatar1:c,CoinAvatar2:d}=e;return(0,i.jsxs)(l.Z,{className:(0,a.m)("-space-x-1",o),children:[(0,i.jsx)(n.Z,{size:s,token:t,...c}),(0,i.jsx)(n.Z,{size:s,token:r,...d})]})}},88132:function(e,t,r){r.d(t,{Z:function(){return o}});var i=r(85893),a=r(91371),n=r(67294),l=r(66180),s=r(6994);function o(e){var t;let{haveMinHeight:r,wrapperClassName:o,children:c,domRef:d,size:u="lg",cssGradientRotate:m,...f}=e,h=(0,a.ZP)(e=>e.isMobile),p=(0,n.useMemo)(()=>{var e,t,r;return(null===(e=f.style)||void 0===e?void 0:e.borderRadius)?"calc(".concat(f.style.borderRadius," + ").concat(1.2,"px)"):(null===(t=f.className)||void 0===t?void 0:t.match(/mobile:rounded-2xl/g))&&h||(null===(r=f.className)||void 0===r?void 0:r.match(/(^|\s)rounded-2xl($|\s)/))?17.2:"md"===u?7.2:21.2},[f.className,u,null===(t=f.style)||void 0===t?void 0:t.borderRadius,h]);return(0,i.jsx)("div",{ref:d,className:o,style:{"--gradient-rotate":null!=m?"".concat(m,"deg"):void 0,minHeight:r?"300px":void 0,borderRadius:p,padding:1.2,backgroundImage:"linear-gradient(var(--gradient-rotate, 246deg), #da2eef 7.97%, #2b6aff 49.17%, #39d0d8 92.1%)"},children:(0,i.jsx)(s.Z,{...f,size:u,className:(0,l.m)("bg-cyberpunk-card-bg overflow-hidden",f.className),style:{height:"100%",width:"100%"},children:c})})}},40816:function(e,t,r){r.d(t,{Z:function(){return l}});var i=r(85893),a=r(67294),n=r(66180);function l(e){let{classNames:t,tabs:r,selectedValue:l,onChange:s,tabClassName:o}=e,c=(0,a.useCallback)(e=>{null==s||s(r.find(t=>t.value===e.currentTarget.dataset.val))},[s,r]);return(0,i.jsx)("div",{className:(0,n.m)("flex rounded-lg p-1 bg-dark-blue",t),children:r.map(e=>{let t=l===e.value;return(0,i.jsx)("div",{onClick:t?void 0:c,"data-val":e.value,className:(0,n.m)("flex text-xs text-[#39D0D8] ".concat(t?"bg-active-tab-bg cursor-default":"cursor-pointer opacity-50"),e.className),children:(0,i.jsx)("div",{className:"py-1 px-2.5",children:e.label})},e.value)})})}},33674:function(e,t,r){r.d(t,{Z:function(){return p}});var i=r(85893),a=r(67294),n=r(66180),l=r(91371),s=r(14431),o=r(85503);function c(){let{run:e=!0,initPercent:t=0,componentRef:r,className:l,duration:c=6e4,strokeWidth:d=3,updateDelay:u=1e3,svgWidth:m=36,loop:f=!0,onEnd:h,onClick:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v=.5*m/2,x=2*v*Math.PI,b=(0,a.useRef)(!1),{documentVisible:g}=(0,o.x)(),[Z,P]=(0,a.useState)(t),k=(0,a.useRef)(),y=(0,a.useRef)(null);(0,s.e)(y,{onClick:p,disable:!p}),(0,a.useEffect)(()=>{if(e&&g){let t=globalThis.setInterval(()=>{e&&g&&P(e=>e+1/c*u)},u);return k.current=t,()=>globalThis.clearInterval(t)}globalThis.clearInterval(k.current)},[c,u,e&&g]);let C=(0,a.useRef)();return(0,a.useEffect)(()=>{if(g&&C.current){let e=Date.now()-C.current;P(t=>t+1/c*e)}g||(C.current=Date.now())},[g]),(0,a.useEffect)(()=>{if(0==Z||Math.round(100*Z)/100!=0)return;let e=setTimeout(()=>{b.current||(b.current=!0,null==h||h(),setTimeout(()=>{b.current=!1},0))},0);return()=>clearTimeout(e)},[Z]),(0,a.useImperativeHandle)(r,()=>({currentProgressPercent:Z%1,restart(){P(0)}})),(0,i.jsx)("div",{className:(0,n.m)("w-full h-full rounded",l),children:(0,i.jsxs)("svg",{ref:y,width:m,height:m,viewBox:"0 0 ".concat(m," ").concat(m),children:[(0,i.jsx)("circle",{r:v,cx:"50%",cy:"50%",fill:"transparent",style:{strokeWidth:d,stroke:"#ffffff2e"}}),(0,i.jsx)("circle",{id:"bar",r:v,cx:"50%",cy:"50%",fill:"transparent",strokeDasharray:x,strokeDashoffset:x-(f?Z%1:Math.min(Z,1))*x,style:{strokeWidth:d,stroke:"#92e1ffd9",transform:"rotate(-90deg)",transformOrigin:"center",strokeLinecap:"round",transition:"200ms"}})]})})}var d=r(92618),u=r(12839),m=r(43066),f=r(52719),h=r(62361);function p(e){var t,r,s,p;let{run:v=!0,refreshKey:x,popPlacement:b,forceOpen:g,freshFunction:Z,freshEach:P=1e3,totalDuration:k=6e4,className:y,circleBodyClassName:C,disabled:w=!1}=e,M=(0,a.useRef)(),[j,N]=(0,a.useState)(!1);(0,m.N)({loop:P,disable:!j});let{documentVisible:T,documentVisibleRef:D}=(0,o.x)(),[A,S,R]=(0,h.$)(!1),L=()=>S(!0),I=()=>S(!1),E=(0,l.ZP)(e=>e.isMobile),B=null===(t=l.ZP.getState().refreshCircleLastTimestamp[x])||void 0===t?void 0:t.endTimestamp,z=null===(r=l.ZP.getState().refreshCircleLastTimestamp[x])||void 0===r?void 0:r.endProcessPercent,O=B&&z&&(Date.now()-B)/k+z;return(0,f.L)(()=>{if(!u.N9)return O&&O>1&&(null==Z||Z()),()=>{var e;l.ZP.setState(t=>{var r;return{refreshCircleLastTimestamp:{...t.refreshCircleLastTimestamp,[x]:{endTimestamp:Date.now(),endProcessPercent:null!==(e=null===(r=M.current)||void 0===r?void 0:r.currentProgressPercent)&&void 0!==e?e:0}}}})}},[]),(0,a.useEffect)(()=>{if(w||!R()||!D.current)return;let e=setTimeout(()=>{!w&&R()&&D.current&&(null==Z||Z(),I())},0);return()=>clearTimeout(e)},[A,T,w]),(0,i.jsxs)(d.Z,{className:(0,n.m)("select-none",y),placement:b,forceOpen:g,triggerBy:E?"press":void 0,autoClose:!0,onOpen:()=>N(!0),onClose:()=>N(!1),children:[(0,i.jsx)(c,{run:v&&!w,initPercent:O&&O%1,duration:k,componentRef:M,className:(0,n.m)("clickable clickable-filter-effect",C),onClick:()=>{var e;L(),null===(e=M.current)||void 0===e||e.restart()},onEnd:()=>{var e;L(),null===(e=M.current)||void 0===e||e.restart()}}),(0,i.jsx)(d.Z.Panel,{children:(0,i.jsxs)("div",{className:"w-60",children:["Displayed data will auto-refresh after"," ",Math.round(k/1e3*(1-(null!==(p=null===(s=M.current)||void 0===s?void 0:s.currentProgressPercent)&&void 0!==p?p:0)))," seconds. Click this circle to update manually."]})})]})}},18074:function(e,t,r){r.d(t,{Z:function(){return o}});var i=r(81451),a=r(51523),n=r(84207),l=r(72573),s=r(99881);function o(e,t){try{var r,o;let c=(0,n.Z)(null!=e?e:0),d=c.mul((null==t?void 0:t.alreadyPercented)?1:100).toFixed(null!==(r=null==t?void 0:t.fixed)&&void 0!==r?r:2);if((0,i.eq)(c,0))return"0%";if(!(null==t?void 0:t.exact)&&d===0..toFixed(null!==(o=null==t?void 0:t.fixed)&&void 0!==o?o:2))return(null==t?void 0:t.alwaysSigned)?"<+0.01%":"<0.01%";return(null==t?void 0:t.alwaysSigned)?"".concat((0,i.gt)(d,0)?"+":"-").concat((0,s.Z)((0,i.gt)(d,0)?(0,l.B)(d):(0,l.B)((0,a.dC)(d,-1))),"%"):"".concat((0,s.Z)(d,{fractionLength:null==t?void 0:t.fixed}),"%")}catch(e){return"0%"}}},67858:function(e,t,r){r.d(t,{T:function(){return v}});var i=r(85893),a=r(91371),n=r(94678),l=r(43067),s=r(60421),o=r(48162),c=r(92618),d=r(6994),u=r(54592),m=r(6325),f=r(51800);function h(){let e=(0,n.ZP)(e=>e.isAprCalcPanelShown),t=(0,n.ZP)(e=>e.aprCalcMode),r=[{aprCalcMethod:"D",title:"Delta Method",description:"This method uses the implied change (delta) in pool liquidity, as determined by the user’s price range and position size, to calculate estimated APR."},{aprCalcMethod:"C",title:"Multiplier Method",description:"This method applies a multiplier, determined by the intersection of user price range and the historical price range of the pool, to calculate estimated APR."}];return(0,i.jsx)(m.Z,{pageComponentName:h.name,placement:"from-bottom",open:e,onClose:()=>{n.ZP.setState({isAprCalcPanelShown:!1})},children:e=>{let{close:a}=e;return(0,i.jsxs)(d.Z,{className:"p-8 mobile:p-4 rounded-3xl mobile:rounded-lg w-[min(480px,90vw)] max-h-[80vh] overflow-auto mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)] bg-cyberpunk-card-bg shadow-cyberpunk-card",size:"lg",children:[(0,i.jsxs)(f.Z,{className:"justify-between items-center mb-4 mobile:mb-2",children:[(0,i.jsx)("div",{className:"mobile:text-base text-xl font-semibold text-white",children:"APR Calculation Method"}),(0,i.jsx)(o.Z,{className:"text-[#ABC4FF] cursor-pointer",heroIconName:"x",onClick:a})]}),(0,i.jsxs)("div",{className:"text-[#abc4ff]",children:["Two methods for calculating estimated APR are available, based on historical trade fees and emissions. Only positions in range earn yield. Past performance is not indicative of future results. ",(0,i.jsx)("br",{}),(0,i.jsx)("p",{className:"text-[#DA2EEF] mt-3",children:"Calculations are an estimate and only for reference."})]}),(0,i.jsx)(u.Z,{className:"gap-2 my-4",children:r.map(e=>{let r=e.aprCalcMethod===t;return(0,i.jsxs)(s.Z,{className:"grid-cols-2-auto gap-y-3 py-3 px-5 rounded-xl bg-[#141041] ".concat(r?"border-1.5 border-[#39d0d8]":"border-1.5 border-transparent"," transition-colors"),onClick:()=>n.ZP.setState({aprCalcMode:e.aprCalcMethod}),children:[(0,i.jsx)("div",{className:"text-white font-medium",children:e.title}),(0,i.jsx)(o.Z,{heroIconName:"check-circle",size:"smi",className:"justify-self-end ".concat(r?"":"hidden"," text-[#39d0d8]")}),(0,i.jsx)("div",{className:"col-span-full text-sm text-[#abc4ff80]",children:e.description})]},e.title)})}),(0,i.jsx)(l.Z,{className:"w-full frosted-glass-teal",onClick:()=>a(),children:"Confirm"})]})}})}var p=r(66180);function v(e){let{iconClassName:t}=e,r=(0,n.ZP)(e=>e.aprCalcMode),d=(0,a.ZP)(e=>e.isMobile),u={D:{title:"Delta Method",description:"Estimated APR is calculated by the Delta Method. Click the ‘D’ icon to switch to the Multiplier Method or"},M:{title:"Multiplier Method",description:"Estimated APR is calculated by the Multiplier Method. Click the ‘M’ icon to switch to the Delta Method or"}};return(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(o.Z,{className:(0,p.m)("ml-1 cursor-help",t),size:"sm",iconSrc:"D"===r?"/icons/clmm-modify-d.svg":"/icons/clmm-modify-m.svg",onClick:d?void 0:()=>n.ZP.setState(e=>({aprCalcMode:"D"===e.aprCalcMode?"C":"D"}))}),(0,i.jsx)(h,{}),(0,i.jsx)(c.Z.Panel,{className:"max-w-[min(100vw,300px)]",children:e=>(0,i.jsxs)(s.Z,{className:"grid-cols-2-auto items-center gap-y-2",children:[(0,i.jsx)("div",{className:"text-sm text-white font-medium",children:"D"===r?u.D.title:u.M.title}),(0,i.jsxs)(l.Z,{className:"justify-end text-link-color p-0 no-clicable-transform-effect",type:"text",onClick:()=>n.ZP.setState(e=>({aprCalcMode:"D"===e.aprCalcMode?"C":"D"})),children:[(0,i.jsx)(o.Z,{size:"sm",heroIconName:"x-switch"}),"Switch"]}),(0,i.jsxs)("div",{className:"col-span-full text-xs text-[#abc4ff80]",children:["D"===r?u.D.description:u.M.description,(0,i.jsx)(l.Z,{type:"text",className:"p-0 ml-2 text-link-color",onClick:()=>{var t;n.ZP.setState({isAprCalcPanelShown:!0}),null==e||null===(t=e.close)||void 0===t||t.call(e)},children:"Learn more"})]})]})})]})}},71122:function(e,t,r){r.d(t,{HU:function(){return u},dG:function(){return m},hy:function(){return d}});var i=r(94678),a=r(96662),n=r(31166),l=r(72616),s=r(51523),o=r(16938),c=r(67294);function d(e){let{positionAccount:t}=e,r=(0,i.ZP)(e=>e.timeBasis),l=(0,n.ZP)(e=>e.tokenPrices),s=(0,n.ZP)(e=>e.tokens),d=(0,o.xh)(s,e=>e.decimals),u=(0,a.ZP)(e=>e.chainTimeOffset),m=(0,i.ZP)(e=>e.aprCalcMode),f=(0,c.useMemo)(()=>null==t?void 0:t.getApr({tokenPrices:l,tokenDecimals:d,timeBasis:r.toLowerCase(),planType:m,chainTimeOffsetMs:u}),[u,r,m,t]);return f}function u(e){let{ammPool:t,forceInfo:r}=e,l=r&&"tickLower"in r?r.tickLower:(0,i.ZP)(e=>e.priceLowerTick),s=r&&"tickUpper"in r?r.tickUpper:(0,i.ZP)(e=>e.priceUpperTick),d=r&&"liquidity"in r?r.liquidity:(0,i.ZP)(e=>e.liquidity),u=(0,i.ZP)(e=>e.timeBasis),m=(0,i.ZP)(e=>e.aprCalcMode),f=(0,a.ZP)(e=>e.chainTimeOffset),h=(0,i.ZP)(e=>e.aprCalcMode),p=(0,n.ZP)(e=>e.tokens),v=(0,n.ZP)(e=>e.tokenPrices),x=(0,n.ZP)(e=>e.tokens),b=(0,o.xh)(x,e=>e.decimals),g=(0,c.useMemo)(()=>null!=l&&null!=s&&t&&d?t.getTickApr({timeBasis:u.toLowerCase(),tickLower:l,tickUpper:s,chainTimeOffsetMs:f,planType:m,tokenDecimals:b,tokenPrices:v,liquidity:d}):void 0,[f,u,h,p,l,s,t,d]);return g}function m(e){let{ammPool:t}=e,r=(0,i.ZP)(e=>e.timeBasis);if(!t)return;let a=t["24H"===r?"feeApr24h":"7D"===r?"feeApr7d":"feeApr30d"],n=t["24H"===r?"rewardApr24h":"7D"===r?"rewardApr7d":"rewardApr30d"],o=t["24H"===r?"totalApr24h":"7D"===r?"totalApr7d":"totalApr30d"];return{fee:{apr:a,percentInTotal:(0,l.y)((0,s.hi)(a,o))},rewards:n.map((e,r)=>{var i;return{apr:e,percentInTotal:(0,l.y)((0,s.hi)(e,o)),token:null===(i=t.rewardInfos[r])||void 0===i?void 0:i.rewardToken}}),apr:o}}}}]);